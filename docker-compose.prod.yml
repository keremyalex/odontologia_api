services:
  backend:
    build: .
    container_name: odontologia_backend
    environment:
      # Variables de base de datos externa
      - DATABASE_HOST=${DATABASE_HOST}
      - DATABASE_PORT=${DATABASE_PORT:-5432}
      - DATABASE_USERNAME=${DATABASE_USERNAME}
      - DATABASE_PASSWORD=${DATABASE_PASSWORD}
      - DATABASE_NAME=${DATABASE_NAME}
      
      # Variables de JWT
      - JWT_SECRET=${JWT_SECRET}
      - JWT_EXPIRATION_TIME=${JWT_EXPIRATION_TIME:-24h}
      
      # Puerto de la aplicaci√≥n
      - PORT=${PORT:-3000}
      
      # Variables de Node.js
      - NODE_ENV=production
    ports:
      - "${PORT:-3000}:${PORT:-3000}"
    restart: unless-stopped